<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentine?</title>

  <style>
    :root{
      --bg1:#fff1f5;
      --bg2:#ffe7ef;
      --card:#ffffffcc;
      --text:#2b2b2b;
      --pink:#ff4d7d;
      --pink2:#ff7aa2;
      --shadow: 0 18px 50px rgba(0,0,0,.12);
      --radius: 22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background:
        radial-gradient(1200px 700px at 20% 20%, var(--bg2), transparent 60%),
        radial-gradient(1000px 700px at 80% 60%, #ffeef3, transparent 55%),
        linear-gradient(180deg, var(--bg1), #fff);
      font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--text);
      padding: 22px;
    }

    .card{
      width:min(860px, 100%);
      background:var(--card);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 77, 125, .18);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 26px 22px 24px;
      position:relative;
      overflow:hidden;
    }

    .sparkle{
      position:absolute;
      inset:-80px -80px auto auto;
      width:220px;height:220px;
      background: radial-gradient(circle at 30% 30%, rgba(255,77,125,.25), transparent 60%);
      transform: rotate(18deg);
      filter: blur(2px);
      pointer-events:none;
    }

    .wrap{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 22px;
      align-items:start;
    }
    @media (max-width: 820px){
      .wrap{grid-template-columns: 1fr}
    }

    h1{
      margin: 0 0 8px;
      font-size: clamp(24px, 3.2vw, 36px);
      letter-spacing: .2px;
    }
    .sub{
      color: rgba(43,43,43,.72);
      margin-bottom: 14px;
      font-size: 15px;
      line-height:1.45;
    }

    /* Buttons */
    .btnRow{
      margin-top: 10px;
      position:relative;
      height: 92px;
    }
    .btn{
      border:0;
      padding: 14px 18px;
      border-radius: 999px;
      font-weight: 800;
      font-size: 15px;
      cursor:pointer;
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
      box-shadow: 0 12px 24px rgba(0,0,0,.10);
      user-select:none;
      letter-spacing:.2px;
      position:relative;
      z-index:2;
    }
    .btn:active{transform: scale(.98)}
    .yes{
      background: linear-gradient(135deg, var(--pink), var(--pink2));
      color:white;
      min-width: 150px;
    }
    .yes:hover{filter: brightness(1.03)}
    .no{
      background: #fff;
      color: #444;
      border: 1px solid rgba(0,0,0,.12);
      min-width: 150px;
      position:absolute;
      left: 190px;
      top: 0;
      z-index:1;
    }

    .note{
      margin-top: 12px;
      font-size: 13px;
      color: rgba(43,43,43,.70);
    }

    /* Real cat photo under the note */
    .belowCat{
      width: 100%;
      margin-top: 12px;
      border-radius: 18px;
      border: 1px solid rgba(255,77,125,.18);
      box-shadow: 0 16px 40px rgba(0,0,0,.12);
      display:block;
      object-fit: cover;
      max-height: 250px;
    }

    /* Right side image (two cats cuddling) */
    .rightImg{
      width: 100%;
      border-radius: 22px;
      border: 1px solid rgba(255,77,125,.18);
      box-shadow: 0 18px 45px rgba(0,0,0,.14);
      display:block;
      object-fit: cover;
      max-height: 420px;
    }

    /* Yay screen */
    .yay{
      display:none;
      text-align:center;
      padding: 18px 6px 6px;
    }
    .yay h2{
      margin: 0 0 10px;
      font-size: clamp(26px, 3.4vw, 42px);
      color: var(--pink);
      letter-spacing:.3px;
    }
    .yay p{
      margin: 0 0 14px;
      color: rgba(43,43,43,.76);
      font-size: 16px;
    }

    .mediaBox{
      margin: 0 auto;
      width: min(520px, 100%);
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid rgba(255,77,125,.18);
      box-shadow: 0 18px 45px rgba(0,0,0,.18);
      background: rgba(255,255,255,.6);
    }

    .celebrateMedia{
      width: 100%;
      display:block;
      background: #000;
    }

    .fallback{
      padding: 14px 12px;
      font-weight: 800;
      color: var(--pink);
      display:none;
    }

    .footer{
      margin-top: 12px;
      font-size: 12px;
      color: rgba(43,43,43,.45);
    }

    /* Tiny harmless ‚Äúunhinged‚Äù wobble */
    .wobble{
      display:inline-block;
      transform-origin:center;
      animation:wobble .95s ease-in-out infinite;
    }
    @keyframes wobble{
      0%,100%{transform: rotate(0deg) scale(1)}
      50%{transform: rotate(-1.2deg) scale(1.01)}
    }
  </style>
</head>

<body>
  <div class="card" role="main" aria-live="polite">
    <div class="sparkle"></div>

    <!-- MAIN SCREEN -->
    <div id="main" class="wrap">
      <div>
        <h1><span class="wobble">Hey Khadeeja, will you be my Valentine?</span> üíò</h1>
        <div class="sub">I made this instead of sending a boring text. My lawyer advised me to say: you‚Äôre welcome.</div>

        <div class="btnRow" id="btnRow">
          <button class="btn yes" id="yesBtn">Yes üíñ</button>
          <button class="btn no" id="noBtn">No üôÉ</button>
        </div>

        <div class="note">I won‚Äôt take no for an answer üòº</div>

        <!-- photo below the note (cute cat eyes / calm) -->
        <img
          class="belowCat"
          src="https://images.unsplash.com/photo-1518791841217-8f162f1e1131?auto=format&fit=crop&w=1200&q=80"
          alt="Cute cat looking up"
        />
      </div>

      <!-- RIGHT SIDE: two cats cuddling (replaces emoji cat + rose completely) -->
      <div>
        <img
          class="rightImg"
          src="https://images.unsplash.com/photo-1517849845537-4d257902454a?auto=format&fit=crop&w=1200&q=80"
          alt="Two cats cuddling"
        />
      </div>
    </div>

    <!-- YAY SCREEN -->
    <div id="yay" class="yay">
      <h2>YAAAY!! ü•≥üíñ</h2>
      <p><strong>good choice currently dwerking in joy</strong></p>

      <!--
        IMPORTANT:
        For reliable playback on GitHub Pages, upload a file into your repo named:
          - celebrate.mp4  (best), OR
          - celebrate.gif

        Then this will work with no third-party blocking.
      -->
      <div class="mediaBox">
        <video
          id="celebrateVideo"
          class="celebrateMedia"
          autoplay
          loop
          muted
          playsinline
          preload="auto"
        >
          <source src="celebrate.mp4" type="video/mp4" />
        </video>

        <img
          id="celebrateGif"
          class="celebrateMedia"
          src="celebrate.gif"
          alt="Celebration"
          style="display:none;"
        />

        <div id="fallback" class="fallback">
          Your celebration file isn‚Äôt uploaded yet üò≠<br/>
          Upload <b>celebrate.mp4</b> (recommended) or <b>celebrate.gif</b> to the repo, same folder as index.html.
        </div>
      </div>

      <div class="footer">Now text me what snacks you want for Valentine‚Äôs üòÑ</div>
    </div>
  </div>

  <script>
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const btnRow = document.getElementById("btnRow");
    const main = document.getElementById("main");
    const yay = document.getElementById("yay");

    const celebrateVideo = document.getElementById("celebrateVideo");
    const celebrateGif = document.getElementById("celebrateGif");
    const fallback = document.getElementById("fallback");

    let dodges = 0; // NEVER stops

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    function moveNoButton(){
      const rowRect = btnRow.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const padding = 6;
      const maxX = rowRect.width - btnRect.width - padding;
      const maxY = rowRect.height - btnRect.height - padding;

      const x = clamp(Math.random() * maxX, 0, maxX);
      const y = clamp(Math.random() * maxY, 0, maxY);

      noBtn.style.left = `${x}px`;
      noBtn.style.top = `${y}px`;
    }

    // Dodge forever on desktop
    noBtn.addEventListener("mouseenter", () => {
      dodges++;
      moveNoButton();

      // tiny escalation: Yes grows slightly (unhinged but harmless)
      const scale = 1 + Math.min(dodges * 0.03, 0.24);
      yesBtn.style.transform = `scale(${scale})`;
    });

    // Dodge forever on mobile
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      dodges++;
      moveNoButton();
    }, { passive: false });

    yesBtn.addEventListener("click", () => {
      main.style.display = "none";
      yay.style.display = "block";

      // If mp4 isn't available, try gif, else show fallback
      celebrateVideo.addEventListener("error", () => {
        celebrateVideo.style.display = "none";
        celebrateGif.style.display = "block";
      });

      celebrateVideo.addEventListener("loadeddata", () => {
        // If video loads, keep it visible
      });

      // If both are missing, show fallback message
      let videoTried = false;
      celebrateVideo.addEventListener("stalled", () => { videoTried = true; });
      setTimeout(() => {
        const videoOk = celebrateVideo && celebrateVideo.readyState >= 2;
        if (!videoOk) {
          // try gif
          celebrateVideo.style.display = "none";
          celebrateGif.style.display = "block";

          // check if gif exists
          celebrateGif.onerror = () => {
            celebrateGif.style.display = "none";
            fallback.style.display = "block";
          };
        }
      }, 1200);
    });

    moveNoButton();
  </script>
</body>
</html>
